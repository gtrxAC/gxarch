; Convert cursor position to on screen coordinates
; Only one page is shown at a time so we don't need to check page
; arg0 = x
; arg1 = ch
; arg2 = y
; return value arg3 arg4
pos2scr: {
	reg x arg0
	reg ch arg1
	reg y arg2

	reg resx arg3
	reg resy arg4

	; result y = y*6 + 8
	mul y (%0:6) resy
	add resy (%0:8) resy

	; result x = x*4 + ch*16 + 32
	mul x (%0:4) resx
	mul ch (%0:16) ch
	add resx ch resx
	add resx (%0:32) resx
	ret
}